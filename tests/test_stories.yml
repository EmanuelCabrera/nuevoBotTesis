version: "3.1"

stories:
  - story: saludo directo
    steps:
      - user: |
          hola
        intent: saludo
      - action: utter_saludo

  - story: despedida directa
    steps:
      - user: |
          chau
        intent: despedida
      - action: utter_despedida

  - story: consultar notas pide materia y permanece en notas
    steps:
      - user: |
          [eyJ0b2tlbiI6ImF1dGgiXX0.abc](auth_token)
        intent: autenticar_usuario
      - action: action_authenticate_user
      - user: |
          quiero ver mis notas
        intent: consultar_notas
      - action: notas_form
      - active_loop: notas_form
      - user: |
          La materia para ver mis notas es [matematica](materia)
        intent: proporcionar_materia_para_notas
      - action: action_consultar_notas

  - story: consultar mesas de examen solicitando materia
    steps:
      - user: |
          [eyJ0b2tlbiI6ImF1dGgiXX0.def](auth_token)
        intent: autenticar_usuario
      - action: action_authenticate_user
      - user: |
          quiero ver las fechas de mesas de examen
        intent: consultar_fecha_mesas_examen_final
      - action: utter_solicitar_materia_examen
      - user: |
          La materia para consultar mesas es [fisica](materia)
        intent: proporcionar_materia_para_mesas
      - action: action_consultar_mesas_examen

  - story: consultar materias y luego proporcionar matricula
    steps:
      - user: |
          [eyJ0b2tlbiI6ImF1dGgiXX0.ghi](auth_token)
        intent: autenticar_usuario
      - action: action_authenticate_user
      - user: |
          quiero ver mis materias
        intent: consultar_materias
      - action: materias_form
      - active_loop: materias_form
      - user: |
          mi matricula es [66001](matricula)
        intent: proporcionar_matricula
      - action: action_consultar_materias

  - story: consultar asistencia proporcionando datos
    steps:
      - user: |
          [eyJ0b2tlbiI6ImF1dGgiXX0.jkl](auth_token)
        intent: autenticar_usuario
      - action: action_authenticate_user
      - user: |
          quiero ver mi asistencia
        intent: consultar_asistencia
      - action: asistencia_form
      - active_loop: asistencia_form
      - user: |
          mi matricula es [66001](matricula)
        intent: proporcionar_matricula
      - action: action_consultar_asistencia
      - user: |
          La materia para consultar mi asistencia es [programacion](materia)
        intent: proporcionar_materia_para_asistencia
      - action: action_consultar_asistencia

  - story: contactos directo
    steps:
      - user: |
          contactos
        intent: contactos
      - action: utter_contactos

  - story: agradecimiento directo
    steps:
      - user: |
          gracias
        intent: agradecimiento
      - action: utter_agradecimiento
